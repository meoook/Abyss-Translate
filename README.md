# Abyss-Translate (Localize)

–°–µ—Ä–≤–∏—Å –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–≥—Ä–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤. –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å
—Ñ–∞–π–ª—ã –∏–≥—Ä –¥–ª—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏, –æ—Å—Ç–∞–≤–ª—è—è –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–∞ —Ç–æ–ª—å–∫–æ
**_–ø–æ–ª–µ–∑–Ω—ã–π —Ç–µ–∫—Å—Ç_**, –æ—Ç—Å–µ–∫–∞—è _—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ_.

    site: (localize.ru)[localize.eee.ru]
    version: 0.4.2
    author: meok
    build: react, django, postgres, celery, redis, nginx

## –§—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

- [x] —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏
- [x] –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ (API)
- [x] –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥ —Ñ–∞–π–ª–∞ (**html**, **csv**, **po**)
- [x] —Å–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã—Ö –∫–æ–ø–∏–π –∏ –∏—Ö –≤—ã–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ API
- [x] —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏
- [ ] –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Å —Å–µ—Ä–≤–µ—Ä–∞ abyss
- [x] —Ä–∞–±–æ—Ç–∞ —Å –≥–∏—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏ (API)
- [x] —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á
- [x] –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] —Ä—É—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–∞

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≥–∏—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤:

- [x] **github**
- [x] **bitbucket** (—Ç–æ–ª—å–∫–æ –Ω–∞ —á—Ç–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤)
- [x] **gitlab**

## –ó–∞–¥–∞–Ω—è Celery

- [x] T1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –≤ –≥–∏—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ) –∏ –ø–æ—Å–ª–µ–¥—É—é—â–∏–π –ø–∞—Ä—Å–∏–Ω–≥
- [x] T2: –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω–æ–π –∫–æ–ø–∏–∏ –∏ —Ä–∞–∑–º–µ—â–µ–Ω–∏–∏ –µ–µ –≤ –≥–∏—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ)
- [x] T3: –ò–∑–º–µ–Ω–µ–Ω–∏–µ URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –¥–ª—è –ø–∞–ø–∫–∏
- [ ] T4: –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏ –ø–∞–ø–æ–∫
- [x] P1: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ **by hash**

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–î–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º **Docker 19.03.12**

```sh
$ apt-get install -y docker
$ docker --version
Docker version 19.03.8, build afacb8b7f0
```

–∏ **Docker-Compose 1.26.2**

```sh
$ sudo curl -L "https://github.com/docker/compose/releases/download/1.26.2/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
$ sudo chmod +x /usr/local/bin/docker-compose
$ docker-compose --version
docker-compose version 1.26.2, build 1110ad01
```

> For alpine, the following dependency packages are needed:
> `py-pip`, `python-dev`, `libffi-dev`, `openssl-dev`, `gcc`, `libc-dev`, and `make`.

## –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–∏–∑ –ø–∞–ø–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω—è–µ–º

```sh
$ docker-compose up -d --build
```

–∏–ª–∏

```sh
$ sh ./runner.sh 5
```

## Release notes

| version | date     | changes                                                            |
| ------- | -------- | ------------------------------------------------------------------ |
|         |          | Merge check - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π                                |
|         |          | –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ —Å–ø–æ—Å–æ–±–æ–≤ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ñ–∞–π–ª–æ–≤                               |
|         |          | Save all "good" translates for search database                     |
|         |          | Docker: pg_bouncer                                                 |
|         |          | –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø–æ—Å–ª–µ –≤–≤–æ–¥–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ –¥–ª—è —Ç–µ–∫—Å—Ç–∞ (–ø—Ä–æ–≤–µ—Ä–∫–∏ —è–∑—ã–∫–∞ –∏ —Ç.–ø.) |
|         |          | More translate filters or sorters (by like 70%)                    |
|         |          | –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è "—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö"         |
|         |          | UI - UI config for user (sizing)                                   |
|         |          | Model for user UI config and API                                   |
|         |          | UI - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤: hotkeys (Enter -> next translate)         |
|         |          | UI - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤: –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–µ—Ä–µ–≤–æ–¥–∞ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞    |
|         |          | Translate examples: Google                                         |
|         |          | Translate examples: translates from same file (by like)            |
|         |          | –ü–æ–∏—Å–∫ –ø–æ —Ñ—Ä–∞–∑–µ (pgSQL vectors)                                     |
|         |          | –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ—è –ø–µ—Ä–µ–≤–æ–¥–∞ (—é–∑–µ—Ä–∞–º–∏ - –±–µ–∑ merge check)          |
|         |          | UI - OAuth2                                                        |
|         |          | OAuth2 –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —É –≥–∏—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤                           |
| 1.01.3  | 21.09.20 | Celery: –ó–∞–¥–∞—á–∞ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ |
| 1.01.2  | 19.09.20 | Celery: –ó–∞–¥–∞—á–∞ –¥–ª—è –≤—ã–≥—Ä—É–∑–∫–∏ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω–æ–π –∫–æ–ø–∏–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π       |
| 1.01.1  | 18.09.20 | –ü–µ—Ä–µ–¥–µ–ª–∞–Ω –º–æ–¥—É–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ì–∏—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏                     |
| 1.01.0  | 09.09.20 | –ü–µ—Ä–µ–¥–µ–ª–∞–Ω UI –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤ (PrePROD)                    |
| 0.04.0  | 08.09.20 | –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π                                         |
| 0.04.1  | 04.09.20 | –í—Å—è –±–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∞ —Ä–∞—Å–∫–∏–¥–∞–Ω–∞ –ø–æ —Å–µ—Ä–≤–∏—Å–∞–º                            |
| 0.03.9  | 01.09.20 | –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (django commands)                         |
| 0.03.8  | 29.08.20 | –¢–µ—Å—Ç—ã –¥–ª—è API –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –ø—Ä–æ–µ–∫—Ç–æ–≤                               |
| 0.03.7  | 25.08.20 | –£–ø—Ä–∞–≤–ª—è—é—â–∏–π –º–æ–¥—É–ª—å runner.sh –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è docker –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º   |
| 0.03.6  | 24.08.20 | Celery: –ó–∞–¥–∞—á–∞ –ø–æ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–∞                                   |
| 0.03.5  | 22.08.20 | –£–ø—Ä–∞–≤–ª—è—é—â–∏–π –∫–ª–∞—Å—Å –¥–ª—è —Ñ–∞–π–ª–æ–≤, –¥–æ—Ä–∞–±–æ—Ç–∫–∞ services                   |
| 0.03.4  | 19.08.20 | –°–ª—É–∂–µ–±–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –∫–ª–∞—Å—Å—ã services                                |
| 0.03.3  | 15.08.20 | –°–µ—Ä–≤–µ—Ä–∞: redis, celery - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞                                 |
| 0.03.2  | 14.08.20 | Docker - –æ–∫—Ä—É–∂–µ–Ω–∏–µ dev –∏ –Ω–µ–º–Ω–æ–≥–æ prod                              |
| 0.03.1  | 12.08.20 | –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è                                                |
| 0.03.0  | 05.08.20 | –ü–µ—Ä–µ–≤–æ–¥ —Å–µ—Ä–≤–µ—Ä–∞ –≤ Docker                                           |
| 0.02.11 | 30.07.20 | –ì–∏—Ç: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –¥–ª—è –ø–∞–ø–∫–∏ - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤            |
| 0.02.10 | 28.07.20 | –ì–∏—Ç: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–∞, —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ - github, bitbucket                |
| 0.02.9  | 24.07.20 | –ú–æ–¥—É–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≥–∏—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏                              |
| 0.02.8  | 20.07.20 | –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω–æ–π –∫–æ–ø–∏–∏ + —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ                           |
| 0.02.7  | 14.07.20 | –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–µ—Ä–µ–≤–æ–¥–∞ —Ñ–∞–π–ª–∞                                            |
| 0.02.6  | 13.07.20 | –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–æ–≤                        |
| 0.02.5  | 10.07.20 | –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–æ–≤                                      |
| 0.02.4  | 04.07.20 | –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ –º–æ–¥–µ–ª–∏: –º–µ—Ç–∫–∏ - –ø–µ—Ä–µ–≤–æ–¥—ã (–æ—Ä–∏–≥–∏–Ω–∞–ª–æ–≤ –Ω–µ—Ç)              |
| 0.02.3  | 26.06.20 | –ü–∞—Ä—Å–∏–Ω–≥ —Ñ–∞–π–ª–∞: –º–µ—Ç–æ–¥ csv (–¥–æ—Ä–∞–±–æ—Ç–∫–∞ –º–æ–¥–µ–ª–∏)                        |
| 0.02.2  | 24.06.20 | –ü–∞—Ä—Å–∏–Ω–≥ —Ñ–∞–π–ª–∞: –º–µ—Ç–æ–¥ ue, html                                      |
| 0.02.1  | 20.06.20 | –ú–æ–¥–µ–ª—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Ä–∏–≥–∏–Ω–∞–ª–æ–≤ –∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ —Ç–µ–∫—Å—Ç–∞                  |
| 0.02.0  | 16.06.20 | –ü–∞—Ä—Å–∏–Ω–≥ —Ñ–∞–π–ª–∞: –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∞–π–ª–µ                        |
| 0.01.8  | 08.06.20 | –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ (mock data)                                     |
| 0.01.7  | 05.06.20 | –ú–µ–Ω—é—à–∫–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –∏ –ø–∞–ø–∫–∞–º–∏                         |
| 0.01.6  | 03.06.20 | –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä (DropZone)                           |
| 0.01.6  | 29.05.20 | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏ –∏ –ø–∞–ø–∫–∞–º–∏ (API)                                 |
| 0.01.5  | 25.05.20 | –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ (API)                                              |
| 0.01.4  | 18.05.20 | knox –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–ø–æ —Ç–æ–∫–µ–Ω—É)                                       |
| 0.01.3  | 15.05.20 | –ë–∞–∑–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –∏ –ø–∞–ø–∫–∞–º–∏               |
| 0.01.2  | 12.05.20 | API –Ω–∞ —Ç–µ–∫—É—â—É—é –º–æ–¥–µ–ª—å                                              |
| 0.01.1  | 10.05.20 | –ú–æ–¥–µ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: —è–∑—ã–∫–∏, –ø—Ä–æ–µ–∫—Ç—ã, –ø–∞–ø–∫–∏                           |

## –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∞–≤—Ç–æ–º–∏–≥—Ä–∞—Ü–∏–∏ —è–∑—ã–∫–æ–≤ üíé 5%

```py
from django.conf.global_settings import LANGUAGES

def get_languages(apps, schema_editor):
    languages = apps.get_model('core', 'Languages')
    for language in LANGUAGES:
        language_to_add = languages(name=language[1], short_name=language[0])
        if language[0] in ('en', 'ru', 'de', 'es'):
            language_to_add.active = True
        language_to_add.save()
    ...
        migrations.RunPython(get_languages),
```

## –î–æ–±–∞–≤–∏—Ç—å PATH üèÜ 12%

end :+1:

```
export PATH="/usr/xaxa/bin:$PATH"
```

## class ModelViewSet

```
mixins.CreateModelMixin,
mixins.RetrieveModelMixin,
mixins.UpdateModelMixin,
mixins.DestroyModelMixin,
mixins.ListModelMixin,
GenericViewSet
```
